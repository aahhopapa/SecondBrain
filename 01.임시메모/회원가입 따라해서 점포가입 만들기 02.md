### 날짜 :  2022-08-17 14:58

### 인덱스 :

### 태그 : #ec-cube, #controller, #costomize, #GET, #POST


----

### 메모 :

기존 화면을 카피 해보자
\\src\\Eccube\\Resource\\template\\default\\Entry\\index.twig

기존 화면 카피해서 필요한 부분만 만들어 보자
\\app\\Customize\\Controller\\StoreEntryController.php
```php
<?php

namespace Customize\Controller;

use Sensio\Bundle\FrameworkExtraBundle\Configuration\Method;
use Sensio\Bundle\FrameworkExtraBundle\Configuration\Route;
use Symfony\Component\HttpFoundation\Response;

use Sensio\Bundle\FrameworkExtraBundle\Configuration\Template;

use Eccube\Controller\AbstractController;
use Eccube\Form\Type\Front\EntryType;
use Eccube\Repository\CustomerRepository;


class StoreEntryController extends AbstractController
{

    /**
     * @var CustomerRepository
     */
    protected $customerRepository;

    /**
     * EntryController constructor.
     *
     * @param CustomerRepository $customerRepository
     */
    public function __construct(
        CustomerRepository $customerRepository
    ) {
        $this->customerRepository = $customerRepository;
    }

    /**
     * 店舗登録画面.
     * @Method("GET")
     * @Route("/store_entry", name="store_entry", methods={"GET", "POST"})
     * @Template("StoreEntry/index.twig")
     */
    public function testMethod()
    {
        /** @var $Customer \Eccube\Entity\Customer */
        $Customer = $this->customerRepository->newCustomer();

        /* @var $builder \Symfony\Component\Form\FormBuilderInterface */
        $builder = $this->formFactory->createBuilder(EntryType::class, $Customer);

        /* @var $form \Symfony\Component\Form\FormInterface */
        $form = $builder->getForm();

        return  [
            'form' => $form->createView(),
        ];
    }

}

```

\\app\\template\\default\\StoreEntry\\index.twig

```twig
{# index.twig #}

{% extends 'default_frame.twig' %}

{% set body_class = 'registration_page' %}

{#
{% form_theme form 'Form/form_div_layout.twig' %}
#}

{% block javascript %}
    <script src="//yubinbango.github.io/yubinbango/yubinbango.js" charset="UTF-8"></script>
{% endblock javascript %} 

{% block main %}
    <div class="ec-registerRole">
        <div class="ec-pageHeader">
            <h1>{{ '店舗登録画面'|trans }}</h1>
        </div>
        <div class="ec-off1Grid">
            <form method="post" action="{{ url('store_entry') }}" novalidate class="h-adr">
                <div class="ec-borderedDefs">
                    <dl>
                        <dt>
                            {{ form_label(form.company_name, '会社名', { 'label_attr': { 'class': 'ec-label' }}) }}
                        </dt>
                        <dd>
                            <div class="ec-halfInput{{ has_errors(form.company_name) ? ' error' }}">
                                {{ form_widget(form.company_name) }}
                                {{ form_errors(form.company_name) }}
                            </div>
                        </dd>
                    </dl>
                </div>
            </form>
        </div>
    </div>
{% endblock %}


```


이렇게 코드를 작성하면 이런 결과화면이 뜬다
![[20220817-03.png]]

----
### 출처 :
-


### 연결메모
-














